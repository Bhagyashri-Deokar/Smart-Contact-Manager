<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	th:replace="user/user_base::layout(~{::section})">
<head>
<meta charset="UTF-8" />
<title>Document</title>
</head>
<body>
	<section>
		<div class="container light-style flex-grow-1 container-p-y">
			<div class="card overflow-hidden">
				<div class="row no-gutters row-bordered row-border-light">
					<div class="col-md-9">
						<div class="tab-content">
							<div class="tab-pane fade active show" id="account-general">

								<form novalidate="novalidate" th:object="${user}" method="post"
									th:action="@{/user/change-setting}" enctype="multipart/form-data">
									<div class="card-body media align-items-center row">
										<div class="col-4">
										<img class="img-fluid show_contact_img" style="height:150px; width:150px" th:src="@{'/img/'+${user.imageUrl}}" alt="" />
										</div>
										<div class="media-body col-8">
											<label class="btn btn-outline-primary"> Upload new
												photo <input type="file" class="account-settings-fileinput" name="userprofile">

											</label>
											<div class="text-light small mt-1">Allowed JPG, GIF or
												PNG. Max size of 800K</div>
										</div>
									</div>

									<hr class="border-light m-0">

									<div class="card-body">
										<div th:if="${session.message}"
											th:classappend="${session.message.type}"
											class="alert text-center">
											<p th:text="${session.message.content}"></p>
											<th:block th:text="${#session.removeAttribute('message')}">
											</th:block>
										</div>
										<div class="form-group">
											<label class="form-label">Your Name</label>
											 <input type="text"
												name="name" class="form-control mb-1"
												placeholder="Enter your name"
												th:classappend="${#fields.hasErrors('name')?'is-invalid': ' ' }"
												id="name-field" th:value="${user.name}" required />

											<div th:each="e : ${#fields.errors('name')}" th:text="${e}"
												class="invalid-feedback"></div>
										</div>

										<div class="form-group">
											<label class="form-label">E-mail</label> <input type="email" name="email" 
												class="form-control mb-1" placeholder="Enter Your Email Id"
												id="email-field" th:value="${user.email}"
												required />
											
										</div>
										<div class="form-group">
											<label class="form-label">About</label> <input type="text"
												class="form-control"
												th:classappend="${#fields.hasErrors('about')?'is-invalid': ' ' }"
												id="about-field" name="about" th:value="${user.about}"
												placeholder="Enter about you" required />
												
											<div th:each="e : ${#fields.errors('about')}" th:text="${e}"
												class="invalid-feedback"></div>
										
										</div>
										<div class="form-group">
											<label class="form-label">Role</label> <input type="text"
												class="form-control" placeholder="Your Role ROLE_USER"
												th:classappend="${#fields.hasErrors('role')?'is-invalid': ' ' }"
												id="role-field" name="role" th:value="${user.role}" disabled required />
											<div th:each="e : ${#fields.errors('role')}" th:text="${e}"
												class="invalid-feedback"></div>
										</div>
									</div>
									<div class="text-right mt-3">
										<button type="submit" class="btn btn-primary">Save
											changes</button>
										&nbsp;
										<button type="button" class="btn btn-default">
											<a th:href="@{/user/index}">Cancel 
										</button>
								</form>

							</div>
						</div>
					</div>


				</div>
			</div>
		</div>
		</div>
		</div>


		</div>
	</section>
</body>
</html>